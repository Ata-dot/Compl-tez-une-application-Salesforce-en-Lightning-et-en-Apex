<template>
    <lightning-card title="Recherche de Case par Sujet" icon-name="standard:case">
        <div class="slds-p-around_medium">
            <!-- Champ de recherche -->
            <lightning-input 
                label="Rechercher par Sujet"
                value={searchTerm}
                onchange={updateSearchTerm}
                placeholder="Entrez un sujet">
            </lightning-input>

            <!-- Bouton de recherche -->
            <lightning-button 
                label="Rechercher"
                variant="brand"
                onclick={handleSearch}
                class="slds-m-top_small">
            </lightning-button>
        </div>

        <!-- Résultats de la recherche -->
        <template if:true={cases}>
            <lightning-datatable 
                data={cases}
                columns={columns}
                key-field="Id"
                class="slds-var-m-top_medium slds-box slds-theme_default">
            </lightning-datatable>
        </template>

        <!-- Message d'erreur -->
        <template if:true={error}>
            <div class="slds-notify slds-notify_alert slds-theme_alert-texture slds-theme_error slds-var-m-top_medium" role="alert">
                <span class="slds-assistive-text">Erreur</span>
                <p>{error}</p>
            </div>
        </template>

        <!-- Message si aucune case n'est trouvée -->
        <template if:true={isCasesEmptyAndNoError}>
            <p class="slds-m-top_medium">Aucune case ne correspond au terme "{searchTerm}".</p>
        </template>
    </lightning-card>
</template>
